"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19240],{118490:function(e,t,r){r.d(t,{S:function(){return c}});var n=r(29541),o=r(693981),a=r(704939),s=r(771268),i=r(874104);let l=e=>{e.setTag("severity","crash"),e.addEventProcessor(e=>{var t;for(let r of(null===(t=e.exception)||void 0===t?void 0:t.values)||[])r.mechanism={...r.mechanism,type:"onerror",handled:!1};return e})},c=e=>{let{children:t,track:r,fallback:c,onError:d,handleBeforeCapture_testonly:u}=e;return(0,n.jsx)(a.SV,{beforeCapture:u||l,onError:(e,t)=>{var n,o,a;n=e,o=r,/Loading chunk [\d]+ failed/.test(n.message)?o("chunk_load_error",{request:null==n?void 0:n.request,type:null==n?void 0:n.type,captureSource:"SentryErrorBoundary",severity:"crash",hasWebVitals:String(!!(null===(a=window)||void 0===a?void 0:a.vitals))}):o("capture_error_boundary_error",{errorName:null==n?void 0:n.name,errorMessage:null==n?void 0:n.message,errorStacktrace:null==n?void 0:n.stack}),d&&d(e,t)},fallback:o.isValidElement(c)?c:e=>{let{componentStack:t,error:r}=e;return"function"==typeof c?c({error:r,componentStack:t}):(0,n.jsx)(s.default,{origin:"error-boundary",errorBoundaryError:{componentStack:t,error:r},internalMessage:i.D.ErrorBoundaryError,type:i.N.ErrorBoundary})},children:t})}},496758:function(e,t,r){r.d(t,{AB:function(){return l},XN:function(){return i}});var n=r(29541),o=r(693981),a=r(350830);let s=o.createContext({collapse(){},isCollapsed:!1,legoDriverParams:{},setLegoDriverParams(){},shouldCollapseOnClose:!1,setShouldCollapseOnClose(){}}),i=e=>{let{children:t}=e,[r,i]=o.useState(!1),[l,c]=o.useState(!1),d=o.useCallback(e=>i(e),[i]),[u,p]=o.useState({cursor:"",entry:a.D.AUTOCOMPLETE,presetQuery:""});return(0,n.jsx)(s.Provider,{value:{collapse:d,isCollapsed:r,legoDriverParams:u,setLegoDriverParams:p,shouldCollapseOnClose:l,setShouldCollapseOnClose:c},children:t})},l=()=>o.useContext(s)},119969:function(e,t,r){r.d(t,{C:function(){return a}});var n=r(430790),o=r(510888);let a=e=>e===n.Experience.Caviar?o.Themes.Caviar:{}},30207:function(e,t,r){r.d(t,{c:function(){return l},D:function(){return T}});var n,o,a,s,i,l,c=r(45177),d=r(337088),u=r(936337),p=r(415421),g=r(399255),h=r(589627),v=r(435999),m=r(430790);let _=e=>Array.isArray(e)?e.length>0?e[0]:void 0:e;var E=r(525520);let x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Array.isArray(e)&&e.length>0){let{storeId:t}=(0,E.ae)(e),r=e[0].split("-");return r.length>1?{prefix:r.join("-"),id:t}:{id:t}}let t=e.split("-");if(t.length>1){let e=t.pop();return{prefix:t.join("-"),id:e}}return{id:e}};(n=s||(s={})).STORE_ID="store_id",n.ORDER_UUID="orderUuid",n.MS_ID="ms_id",n.BUSINESS_ID="business_id",n.PRODUCT_ID="product_id";let C=(e,t)=>{switch(e){case u.G.ConvenienceStoreSSR:{let{id:e}=x(_(t.storeUrlSlug));return{store_id:e}}case u.G.Store:case u.G.StorePageSSR:{let{id:e}=x(_(t.slug));return{store_id:e}}case u.G.ConvenienceItemFirstProduct:case u.G.ConvenienceMerchantFirstProduct:let r=t.store_id;return{...t,...void 0!==r&&{store_id:r}};case u.G.ConvenienceProductSSR:let{id:n}=x(_(t.storeUrlSlug)),{id:o}=x(_(t.productId)),a=t.ms_id;return{...t,store_id:null!=n?n:"",product_id:null!=o?o:"",...void 0!==a&&{ms_id:a}};default:return t}};var f=r(474724);let y=(e,t)=>{var r,n;switch(e){case u.G.DoubleDash:return"".concat(f._j.orders).concat(null!==(r=_(t.orderUuid))&&void 0!==r?r:"");case u.G.Store:case u.G.StorePageSSR:{let{id:e}=x(_(t.slug));return"/store/".concat(e)}case u.G.LegoSearch:case u.G.LegoSearchSSR:return"/search/store/".concat(null!==(n=_(t.query))&&void 0!==n?n:"");case u.G.LegoVerticalHomepage:case u.G.LegoVerticalHomepageSSR:return f._j.legoVerticalHomepage;case u.G.LegoCategoriesSSR:case u.G.LegoCategories:case u.G.LegoCategoriesCarouselSSR:return f._j.legoCategories;case u.G.Payment:return f._j.payment;case u.G.ConvenienceItemFirstProduct:let o=t[s.MS_ID],a=t[s.BUSINESS_ID];if(o&&a)return"/browse/merchants/".concat(a,"/products/").concat(o);return"";case u.G.ConvenienceMerchantFirstProduct:let{id:i}=x(_(t.msId)),{id:l}=x(_(t.businessId));return"/browse/merchants/".concat(l,"/products/").concat(i);case u.G.ConvenienceProductSSR:return f._j.convenienceProductDeepLink;default:return""}},S={[r(93539).a.Caviar]:{adjustBaseUrl:"https://s9ud.adj.st",adjustTrackerHash:"t88koil"},default:{adjustBaseUrl:"https://7wmw.adj.st",adjustTrackerHash:"p58jfw"}},P=e=>{var t;return null!==(t=S[e])&&void 0!==t?t:S.default};(o=i||(i={})).QrCode="qrcode",o.MwebOpenApp="mweb_open_app",o.MwebDownloadGetApp="mweb_download_get_app",o.SmartAppBanner="smart_app_banner";let b=e=>{let{entryPoint:t,source:r,pageType:n,params:o,experience:a,consumerId:s,deviceId:i,ignoreDeferredDeepLink:l}=e,{adjustBaseUrl:c,adjustTrackerHash:d}=P(a),u=y(n,o),p=C(n,o),g=new URLSearchParams({adjust_t:d,dd_device_id:i,adjust_source:r,pageType:n,entryPoint:t,web_consumer_id:null!=s?s:i,..."qrcode"===r&&{external_link:"true"},...l&&{ignore_deferred_link:"true"},...p});return"".concat(c).concat(u,"?").concat(g.toString())};(a=l||(l={})).QrCode="qrcode",a.MwebOpenApp="mweb_open_app",a.MwebDownloadGetApp="mweb_download_get_app",a.SmartAppBanner="smart_app_banner";let T=(e,t)=>{let r=(0,c.useDVSBoolean)(d.P.allowDeferredDeepLink,!1),{consumer:{id:n}}=(0,v.R)(),{experience:o}=(0,m.useExperience)(),{pageType:a=u.G.Unknown}=(0,p.lO)();return b({entryPoint:e,source:t,pageType:a,params:(0,h.UO)(),experience:o,consumerId:n,deviceId:(0,g.Mv)(),ignoreDeferredDeepLink:!r})}},158659:function(e,t,r){var n,o,a,s,i,l,c,d,u,p;r.d(t,{M$:function(){return a},XD:function(){return o},Yz:function(){return s},gZ:function(){return i},mf:function(){return n}}),(l=n||(n={})).HERO_OVERLAY="hero_overlay",l.TITLE="title",l.DESCRIPTOR="descriptor",l.UNKOWN="unkown",l.SPONSORED_DESCRIPTOR="sponsored_descriptor",l.FLEXIBLE_ITEM_DESCRIPTOR="flexible_item.descriptor",l.FLEXIBLE_ITEM_PRICE="flexible_item.price",(c=o||(o={})).X_SMALL="xSmall",c.SMALL="small",c.MEDIUM="medium",c.LARGE="large",(d=a||(a={})).INFORMATIONAL="informational",d.NEGATIVE="negative",d.POSITIVE="positive",d.WARNING="warning",d.HIGHLIGHT="highlight",(u=s||(s={})).DEFAULT="default",u.EMPHASIS="emphasis",u.MEDIUM="medium",u.SUBDUED="subdued",(p=i||(i={})).OFFER="offer",p.SPONSORED="sponsored",p.DASHPASS="dashpass_offer",p.NEW_STORE_AVAILABLE="new_store_available",p.IN_STORE_PRICE="in_store_prices",p.SNAP_EBT="snap",p.SUMMER_DASHPASS="sodp",p.PEOPLE_ALSO_ORDERED="people_also_ordered",p.NEARBY="nearby",p.EXPANDED="expanded",p.LOW_STOCK="low_stock",p.PERCENT_DISCOUNT="percent_discount"},889988:function(e,t,r){r.d(t,{OU:function(){return l},bQ:function(){return i}});var n=r(841015),o=r(400411),a=r.n(o),s=r(158659);n.ZP.Sizes.XSmall,n.ZP.Sizes.Small,n.ZP.Sizes.Medium,n.ZP.Sizes.Large;let i=(e,t)=>{let r=Object.values(s.M$),n=Object.values(s.Yz),o=r.includes(e),i=n.includes(t);return o&&i?"".concat(a()(e)).concat(a()(t)):""},l=e=>{if(e)return e.split("/").filter(e=>isNaN(parseFloat(e))).map(e=>a()(e)).join("")}},330005:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(29541),o=r(693981),a=r(545688),s=r(758884),i=r(510888),l=r(903359),c=r(199296);let d=(0,l.keyframes)(["from{transform:translateY(","px);opacity:0;}to{transform:translateY(0);opacity:1;}"],i.Spacing.Small),u=l.default.div.withConfig({componentId:"sc-bd55094f-0"})(["position:fixed;bottom:","px;left:50vw;transform:translateX(-50%);z-index:",";"],e=>e.bottom?e.bottom:i.Spacing.Large,e=>e.zIndex?e.zIndex:c.UL),p=(0,i.withTheming)((0,l.default)(i.Inset).attrs(()=>({size:i.Spacing.Large,isSquished:!0})).withConfig({componentId:"sc-bd55094f-1"})(["background:",";border-radius:","px;box-shadow:",";display:inline-flex;min-height:","px;animation:",";animation-fill-mode:both;& > *{width:100%;}width:calc(100vw - ","px);@media screen and (min-width:","px){width:max-content;}"],e=>{let{backgroundColor:t,theme:r}=e;return t||r.Colors.ToastInformationalBackground},e=>{let{theme:t,borderRadius:r}=e;return"Pill"===t.Shape.Toast?2*i.Spacing.Large:r||t.BorderRadius.ToastContainer},i.Shadows.Medium,i.Spacing.XxLarge,(0,l.css)([""," 300ms ease-in-out"],d),i.Spacing.XLarge,i.Breakpoints.Mobile)),g=(0,l.default)(i.Text).withConfig({componentId:"sc-bd55094f-2"})(["white-space:normal;"]);var h=r(116028),v=r(889988);let m=e=>({Colors:{ButtonFlatPrimaryForeground:e.Colors.ToastInformationalAction,ButtonFlatPrimaryForegroundDisabled:e.Colors.ToastInformationalActionDisabled,ButtonFlatPrimaryForegroundHovered:e.Colors.ToastInformationalActionHovered,ButtonFlatPrimaryForegroundPressed:e.Colors.ToastInformationalActionPressed},Typography:{TextStyles:{ToastAction:e.Typography.TextStyles.ToastAction}}});var _=e=>{let{action:t,text:r,backgroundColor:a,iconName:s,onClick:l,styleOverride:c}=e,d=o.useContext(i.ThemingContext),u=void 0!==t&&void 0!==t.text&&"function"==typeof t.onClick,_=(0,v.OU)(s);return(0,n.jsx)(p,{onClick:l,backgroundColor:a,role:"alert","aria-live":"off",borderRadius:null==c?void 0:c.borderRadius,children:(0,n.jsxs)(i.InlineChildren,{alignItems:i.InlineChildren.Alignment.Center,justifyContent:(null==c?void 0:c.justifyContent)||i.InlineChildren.Justification.SpaceBetween,size:i.InlineChildren.Sizes.XSmall,children:[(0,n.jsx)(()=>_?(0,n.jsx)(i.Icon,{color:i.Text.Colors.ToastInformationalForeground,type:_}):null,{}),(0,n.jsx)(i.Text,{styles:i.Text.Styles.ToastBody,color:i.Text.Colors.ToastInformationalForeground,children:r}),u&&(0,n.jsx)(i.Theming,{overrides:m(d),children:(0,n.jsx)(h.default,{isInline:!0,type:h.default.Types.FlatPrimary,onClick:e=>{null==t||t.onClick(),e.stopPropagation()},padding:h.default.Padding.None,children:(0,n.jsx)(g,{color:i.Text.Colors.ButtonFlatPrimaryForeground,styles:i.Text.Styles.ToastAction,children:t.text})})})]})})},E=()=>{let{toasts:e,bottomSpacing:t}=(0,s.RG)(),r=e[e.length-1];if(r){var o,a;return(0,n.jsx)(u,{zIndex:null==r?void 0:null===(o=r.styleOverride)||void 0===o?void 0:o.zIndex,bottom:t||(null==r?void 0:null===(a=r.styleOverride)||void 0===a?void 0:a.bottom),"data-anchor-id":"AppToast",children:(0,n.jsx)(_,{...r},r.toastId)})}return null},x=r(312753),C=e=>{let{children:t}=e,r=(0,x.XR)(),[i,l]=o.useState({}),c=o.useRef(i);c.current=i;let d=o.useRef({}),[u,p]=o.useState(),g=o.useCallback(e=>{if(!c.current[e])return;let t=d.current[e];window.clearTimeout(t),delete d.current[e],l(t=>{let r={...t};return delete r[e],c.current=r,r})},[]),h=o.useCallback(e=>{let{duration:t,...r}=e,n=(0,a.l)();l({...c.current,[n]:r});let o=window.setTimeout(()=>{g(n)},t);return d.current[n]=o,n},[g]),v=o.useMemo(()=>({addToast:h,removeToast:g,toasts:Object.entries(i).map(e=>{let[t,r]=e;return{...r,toastId:t}}),bottomSpacing:u,setBottomSpacing:p}),[h,g,i,u,p]);return o.useEffect(()=>()=>{Object.values(d.current).map(window.clearTimeout)},[]),o.useEffect(()=>{let e="",t=r.get(s.Uw.isError),n=r.get(s.Uw.duration),o=r.get(s.Uw.text),a=r.get(s.Uw.iconName);return Number(n)&&!isNaN(Number(n))&&o&&a&&void 0!==t&&(e=h({isError:!!t,duration:Number(n),text:o,iconName:a}),Object.values(s.Uw).forEach(e=>{r.delete(e)})),()=>{e&&g(e)}},[h,g,r]),(0,n.jsxs)(s.ZP,{contextValues:v,children:[t,(0,n.jsx)(E,{})]})}},874104:function(e,t,r){var n,o,a,s;r.d(t,{D:function(){return n},N:function(){return o}}),(a=n||(n={})).UncategorizedError="Uncategorized Error",a.UncategorizedQueryError="Uncategorized Query Error",a.GenericNotFoundError="Generic Not Found Error",a.UncategorizedNextJSError="Uncategorized Next.js Error",a.UncategorizedLegoError="Uncategorized Lego Error",a.UncategorizedCnGError="Uncategorized CnG Error",a.UncategorizedDoubleDashError="Uncategorized DoubleDash Error",a.UncategorizedAuthorizationError="Uncategorized Authorization Error",a.UncategorizedMissingParameterError="Uncategorized Missing Parameter Error",a.ConsumerQueryError="Consumer Query Error",a.CheckoutQueryError="Checkout Query Error",a.HomePageLoaderStoresQuery="HomePageLoader stores query error",a.ConfirmationOrderReceiptError="Confirmation Order Receipt Query Error",a.ConsumerConsentError="Consumer Consent Error",a.PhoneNumberVerification="Phone Number Verification Error",a.StorePageFeedError="StorePageFeed Error",a.OrdersPageQueryError="Consumer Orders QueryError",a.OrdersPageQueryingError="Orders Page had trouble querying data",a.CheckoutOrderCartEmpty="Checkout page order cart is empty",a.CheckoutOrderCartSubmitError="Checkout page order cart submit error",a.UncategorizedCheckoutOrderCartError="User does not have access to order cart",a.OrderCartSessionError="Order Cart from session query threw an error",a.ConsumerNotOrderCartOwner="Consumer is not owner of the order Cart",a.MenuPageLoaderError="MenuPageLoader had an error in MenuQuery",a.PickupPageLoaderQueryError="Pickup Page had either a consumerquery or other query error",a.PostLogoutError="Post Logout Query had an error",a.PostLoginError="Generic Post Login Error",a.MapPageError="Map Page had an error for one of the consumer/map/store preview queries",a.StoreFrontConfirmationNoMatch="Storefront Confirmation page couldn't match the route",a.PostLoginMissingCode="PostLogin is missing a URL code parameter",a.DashPassQueryError="DashPass Manage Subscription had a query error",a.DashPassRedeemError="DashPass Redeem missing required redeem code param",a.DashPassGiftPageQueryError="DashPass Gift Page had a query error",a.GroupCartPermissions="Order cart does not exist or the user did not belong to that order and has already been submitted",a.PromoCodeMissing="Promotion code is a required URL param",a.SVCMissingStoreParam="SVC Missing store slug",a.ConvenienceMissingStoreSlug="Convenience Store Page Missing a Store Slug in URL param",a.ErrorBoundaryError="An exception was thrown which triggered an error boundary",a.RoutingError="User is trying to hit a route that is not supplied by our router",a.BusinessNotFound="Business not found for the supplied identifier",a.UncategorizedErrorAppearPrism="Error displayed via Prism ErrorMessage wrapper",a.UncategorizedErrorFragment="Error displayed via ErrorFragment",a.UncategorizedErrorAppearToast="Error displayed in a toast",a.RatingsSubmissionFormQueryError="Ratings Submission Form Query error",a.RatingsSubmissionError="Create consumer rating error",a.ItemAddError="Item Page Add Error",a.ItemUpdateError="Item Page Update Error",a.ItemPageLoadError="Item Page Load Error",a.MarkVisitedStoreError="Error marking store as visited in SearchResults Facet",a.RemoveRecentSearchError="Error removing recent search in SearchResults Facet",a.InactiveStoreError="Store is currently inactive",a.SaveStoreError="Save store error",a.UnbookmarkStoreError="Unbookmark store error",a.SpaceManMigrationMissingSSRProps="SpaceMan Migration Missing SSR Props",a.DietaryPreferencesPageError="Dietary preferences page error",a.RequestARestaurantError="Error getting Request a restaurant",a.NotificationHubOrderDetailsError="Error getting the order details",a.GetNotificationsError="Error getting the notifications",a.HasNewNotificationsError="Error getting the has new notifications for badging",a.NotificationHubOrderTrackerError="Error getting the order tracker details",a.UpdateNotificationReadStatusError="Error updating notifications read status",a.AppDirectoryNotFound="App Directory Not Found Error",a.AppDirectoryUnhandled="App Directory Unhandled Error",(s=o||(o={})).Query="NTW_001",s.Mutation="NTW_002",s.StaleData="ERR_002",s.Authorization="ATH_001",s.MissingParameter="PRM_004",s.NextServerSideProps="NXT_001",s.NextAppDirectory="NXT_002",s.Uncategorized="ERR_003",s.ErrorBoundary="ERR_004",s.Routing="ERR_005",s.DataNotFound="ERR_006"},233915:function(e,t,r){r.d(t,{J6:function(){return T},_j:function(){return C}});var n=r(317905),o=r(29541),a=r(900403),s=r(542448),i=r(693981),l=r(593842),c=r(704939),d=r(150129),u=r.n(d),p=r(56492),g=r(845025),h=r.n(g),v=r(312753),m=r(589627);function _(){let e=(0,n._)(["\n  query deviceAttestation {\n    deviceAttestation\n  }\n"]);return _=function(){return e},e}let E=(0,a.gql)(_()),x=()=>{let e=i.useMemo(()=>(0,v.vQ)("dd_session_id"),[]);return e?(0,o.jsx)(u(),{defer:!0,type:"text/javascript",id:"sig-api","data-order-session-id":e,src:"https://cdn-scripts.signifyd.com/api/script-tag.js"}):null},C=h()(()=>Promise.resolve(x),{ssr:!1}),f=()=>{let{asPath:e}=(0,m.tv)(),[t,r]=i.useState(!1),n=i.useMemo(()=>(0,v.vQ)("dd_device_id"),[]);return i.useEffect(()=>{if(t){var e,r;null===(r=window.RISKX)||void 0===r||r.go(null===(e=window)||void 0===e?void 0:e.location.href)}},[e,t]),n?(0,o.jsx)(u(),{src:"https://beacon.riskified.com?shop=".concat("doordash.com","&sid=").concat(n),id:"riskified-js",strategy:"afterInteractive",onReady:()=>{r(!0)}}):null},y=h()(()=>Promise.resolve(f),{ssr:!1}),S=e=>{let{deviceSessionId:t,userId:r}=e,n=(0,s.x)();return{setupDeviceAttestation:i.useCallback(async()=>{let e=window._sift=window._sift||[];e.push(["_setAccount",p.Z.siftAccountDFP]),e.push(["_setTrackerUrl",p.Z.siftJavascriptDomain]),r&&e.push(["_setUserId",r]),e.push(["_setSessionId",t]),e.push(["_trackPageview"]),await n.query({query:E})},[n,t,r])}},P=e=>{let{setupDeviceAttestation:t}=S(e);return i.useEffect(()=>{t().catch(e=>{(0,l.Tb)(e,{level:"warning"})})},[t]),null},b=e=>{let[t,r]=i.useState(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u(),{src:p.Z.siftJavascriptScriptUrl,id:p.Z.siftJavascriptScriptId,strategy:"afterInteractive",onReady:()=>{r(!0)}}),t?(0,o.jsx)(P,{...e}):null]})},T=e=>(0,o.jsxs)(c.SV,{showDialog:!1,beforeCapture:e=>{e.setTag("component","FraudRiskTracking")},children:[(0,o.jsx)(b,{...e}),(0,o.jsx)(y,{})]})},952396:function(e,t,r){var n,o;r.d(t,{Y:function(){return n}}),(o=n||(n={})).crash="crash",o.success="success",o.degraded="degraded",o.notfound="not-found",o.handledError="handled-error"},993232:function(e,t){class r{constructor(e){this.getCurrentTimeInNanoSeconds=()=>1e6*Date.now(),this.getEventNameEventPayload=()=>{let{eventType:e,actionType:t}=this.eventNameActionTypePair;return{eventType:e,payload:{...this.eventPayload,actionType:t}}},this.getCustomPropsFromOptionalData=e=>{let{actionResultPayload:t,err:r,computeCustomProps:n}=e;return r?null==n?void 0:n({result:"failure",err:r}):t?null==n?void 0:n({result:"success",actionResultPayload:t}):void 0},this.markEventStart=()=>{this.eventPayload.clientElapsedTime=this.getCurrentTimeInNanoSeconds(),this.eventPayload.actionEventParams.startTimeNs=this.getCurrentTimeInNanoSeconds()},this.markEventEnd=e=>{this.eventPayload.actionEventParams.endTimeNs=this.getCurrentTimeInNanoSeconds(),this.eventPayload.actionEventParams.durationNs=this.eventPayload.actionEventParams.endTimeNs-this.eventPayload.actionEventParams.startTimeNs,e&&(this.eventPayload.actionEventParams.error=e)},this.handleAfterEventSent=e=>{if(e.callback)return e.callback(null==e?void 0:e.actionResultPayload,null==e?void 0:e.err)},this.processEventEndWithOptionalData=e=>{let{actionResultPayload:t,err:r,computeCustomProps:n}=e;return{baseEventNameEventPayload:this.getEventNameEventPayload(),customProps:this.getCustomPropsFromOptionalData({actionResultPayload:t,computeCustomProps:n,err:r})}},this.markEventEndWithOptionalData=(e,t)=>{let{callback:r,err:n,actionResultPayload:o,computeCustomProps:a}=e||{};this.markEventEnd(n);let{baseEventNameEventPayload:s,customProps:i}=this.processEventEndWithOptionalData({actionResultPayload:o,err:n,computeCustomProps:a});return this.mangerMethods.enqueueActionEvent(s,t,i),this.handleAfterEventSent({callback:r,actionResultPayload:o,err:n})},this.error=null,this.eventNameActionTypePair=e.events,this.eventPayload={clientElapsedTime:-1,actionEventParams:{durationNs:-1,endTimeNs:-1,startTimeNs:-1,error:this.error}},this.mangerMethods=e.mangerMethods}}t.Z=r},119240:function(e,t,r){r.d(t,{I:function(){return eO}});var n,o,a=r(29541),s=r(693981),i=r(845025),l=r.n(i),c=r(963964),d=r.n(c),u=r(316017),p=r(430790),g=r(821801),h=r(829367),v=r(77927),m=r(352836),_=r(330005),E=r(551470),x=r(312753);let C=e=>{if(!document.getElementById("segment")){let t=document.createElement("script");t.id="segment",t.type="text/javascript",t.text='!function(){if(window.Cypress){console.log(\'skipping segment for cypress\'); return;}var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";analytics.load("'.concat(e,'");analytics.page();}}();'),document.head.appendChild(t)}},f=e=>{var t;if(void 0===(null===(t=window)||void 0===t?void 0:t.Cypress)&&!document.getElementById("gtm")){let t=document.createElement("script");t.id="gtm",t.type="text/javascript",t.text="\n      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n      'https://www.googletagmanager.com/gtm.js?id='+i+dl;var n=d.querySelector('[nonce]');\n      n&&j.setAttribute('nonce',n.nonce||n.getAttribute('nonce'));f.parentNode.insertBefore(j,f);\n      })(window,document,'script','dataLayer','".concat(e,"');\n    "),document.head.appendChild(t)}};var y=r(298296);function S(e){if(e.hasConsent()){e.injectNonEssentialScripts();return}document.addEventListener("CassieSubmittedConsent",()=>{e.hasConsent()&&e.injectNonEssentialScripts()})}async function P(e,t){return e===p.Experience.Storefront?{hasConsent:()=>"true"===(0,x.vQ)(y.E.sf_non_essential_opt_in),injectNonEssentialScripts:()=>b(t)}:e===p.Experience.DoorDash?{hasConsent:()=>"true"===(0,x.vQ)(y.E.dd_non_essential_opt_in),injectNonEssentialScripts:()=>T(t)}:{hasConsent:()=>!1,injectNonEssentialScripts:()=>{}}}let b=e=>{if(null==e?void 0:e.enableSegment){var t;null===(t=(0,E.ER)(p.Experience.Storefront))||void 0===t||t.setConsent(!0),(null==e?void 0:e.SEGMENT_KEY)&&C(String(null==e?void 0:e.SEGMENT_KEY))}(null==e?void 0:e.enableGTM)&&(null==e?void 0:e.GTM_KEY)&&f(String(null==e?void 0:e.GTM_KEY))},T=e=>{var t;null===(t=(0,E.ER)(p.Experience.DoorDash))||void 0===t||t.setConsent(!0),(null==e?void 0:e.SEGMENT_KEY)&&C(String(null==e?void 0:e.SEGMENT_KEY))};var w=(e,t,r)=>(e&&P(t,r).then(S),null);function R(e){let{experience:t,GDPRData:r}=e;return s.useEffect(()=>{(null==r?void 0:r.enableGDPRConsent)&&w(r.enableGDPRConsent,t,r),(0,E.kO)(void 0,(null==r?void 0:r.enableGDPRConsent)||!1,t)},[t,r]),(0,a.jsx)("div",{"data-gdpr-enabled":null==r?void 0:r.enableGDPRConsent})}var N=r(109658);r(990286);var I=r(657375),j=r(723189);let D=e=>{var t;let{experience:r=p.Experience.DoorDash,trackingConsent:n}=e,{integrations:o}=(0,j.c)(n);(0,I.e)(null!==(t=n.consent)&&void 0!==t&&t,null!=o?o:{},r);let s="".concat(n.consent?"segment-telemetry":"segment-telemetry-ccpa");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{id:s})})},A=e=>{var t;let{experience:r,gdprData:n,trackingConsent:o}=e;return(null===(t=(0,E.ER)(r))||void 0===t||t.setConsent(!0),"gdpr"!==o.consentType&&!0===o.consent||"ccpa"===o.consentType&&!1===o.consent||"gdpr"===o.consentType&&r===p.Experience.Storefront||"ca"===o.consentType&&!1===o.consent)?(0,a.jsx)(D,{experience:r,trackingConsent:o}):"gdpr"===o.consentType?(0,a.jsxs)(s.Fragment,{children:[function(e,t){let r={scriptSrc:"https://cscript-cdn-use.cassiecloud.com/loader.js",scriptSettings:{widgetProfileId:4,languageCode:e,licenseKey:t===p.Experience.Storefront?N.h.cassieKeyProdStorefront:N.h.cassieKeyProd,region:"use",environment:"production"}};return[(0,a.jsx)("script",{"data-testid":"cassie-loader",src:r.scriptSrc},"cassie-loader"),(0,a.jsx)("script",{"data-testid":"cassie-instantiator",dangerouslySetInnerHTML:{__html:"var cassieSettings = ".concat(JSON.stringify(r.scriptSettings),";\n            window.CassieWidgetLoader = new CassieWidgetLoaderModule(cassieSettings);")}},"cassie-instantiator"),(0,a.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://img.cdn4dd.com/s/managed/stylesheets/gdpr-cookie-banner/custom-style-common.css"},"cassie-style1"),(0,a.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://img.cdn4dd.com/s/managed/stylesheets/gdpr-cookie-banner/doordash-banner-style-override.css"},"cassie-style2")]}(n.gdprLanguage,r),(0,a.jsx)(R,{experience:r,GDPRData:n})]}):(0,a.jsx)("div",{"data-non-essential-scripts-enabled":o.consent})};var k=r(501920),O=r(661333),L=r(888877),F=r(465244),M=r(510888),U=r(119969);let G=e=>{let{experience:t,children:r}=e;return(0,a.jsx)(M.Theming,{overrides:(0,U.C)(t),children:r})};var B=r(952396),V=r(415421),z=r(118490),q=r(128669),H=r(496758),Z=r(884866),Q=r(123347);let W=(e,t)=>{var r;let n=null!==(r=t.id)&&void 0!==r?r:"",o=!!t.isGuest,a=t.hasCompletedFirstOrder;x.ZP.set("consumerId",n),x.ZP.set("isGuest",o?"true":"false"),x.ZP.set("experience",e),s.useEffect(()=>{null!=a&&x.ZP.set("hasCompletedFirstOrder",a.toString())},[n,o,a,e])};var Y=r(694010),K=r(143493),X=r(233915),J=r(75821),$=r(305263),ee=r(152937),et=r(526662),er=r(917462);let en=e=>!!e&&Object.values(et.D).includes(e),eo=(e,t)=>e!==et.D.UNIFIED_TELEMETRY_DISABLED&&e!==et.D.NEVER&&e<=t,ea=e=>{let t=(0,er.by)(e);return t.category_l_1&&(t.category_l1={category_l1_id:t.category_l_1.category_l_1_id,category_l1_name:t.category_l_1.category_l_1_name},delete t.category_l_1),t};var es=r(946186),ei=r.n(es);let el={DEFAULT:"default"};var ec=r(993232);class ed{constructor(e){this.getCurrentTimeInNanoSeconds=()=>1e6*Date.now(),this.log=(e,t)=>{var r,n,o,a,s,i;if(eo(this.logLevel,t)){if(t===et.D.ERROR){null===(a=console)||void 0===a||null===(o=a.error)||void 0===o||o.call(a,e);return}if(t===et.D.WARN){null===(i=console)||void 0===i||null===(s=i.warn)||void 0===s||s.call(i,e);return}null===(n=console)||void 0===n||null===(r=n.log)||void 0===r||r.call(n,e)}},this.logContextChange=(e,t)=>{this.log(JSON.stringify({message:"Manager patchContexts called",existingContexts:e,newContexts:t},null,4),et.D.INFO)},this.decorateInternalLogicWithProcessedEvent=(e,t)=>{var r,n,o,a,s;let{eventType:i,payload:l}=e;if(!l)return;let c=ea(l);if(l.customAttrs&&(delete c.custom_attrs,c={...c,...l.customAttrs}),this.eventsRequireAppContext.has(i)){let e=this.getCurrentContexts(),s={...ei()({},e.globalContext,null!==(o=null==t?void 0:null===(r=t.overrideContext)||void 0===r?void 0:r.globalContext)&&void 0!==o?o:{}),...ei()({},e.pageContext,null!==(a=null==t?void 0:null===(n=t.overrideContext)||void 0===n?void 0:n.pageContext)&&void 0!==a?a:{})};c={...c,app_context:ea(s)}}return this.eventsHaveOptionalEventContext.has(i)&&(null==t?void 0:t.eventContext)&&(c={...c,event_context:ea(t.eventContext)}),this.eventsIsAction.has(i)&&(c={...c,...null!==(s=c.action_event_params)&&void 0!==s?s:{}}).action_event_params&&delete c.action_event_params,c.page_type&&(c={...c,pageType:c.page_type}),c},this.sendProcessedEvent=(e,t)=>{let{eventType:r}=e,n=this.decorateInternalLogicWithProcessedEvent(e,t);switch(this.log(JSON.stringify({message:"sending processed event",eventType:r,payload:n},null,4),et.D.INFO),r){case"cx_view":case"cx_view_click":case"cx_action_page_load":case"cx_action_navigate":case"cx_action_order_cart":case"cx_page_launch":case"cx_remote_action_payment_status":this.trackTelemetry(r,n);return;default:return}},this.handlePageLaunch=e=>{var t;(null===(t=this.perEventFeatureFlags)||void 0===t?void 0:t.cx_action_page_load)&&this.sendProcessedEvent({eventType:"cx_page_launch",payload:{pageType:e}})},this.handleModalInteraction=e=>{var t,r,n,o,a,s,i,l;if(!(null===(t=this.perEventFeatureFlags)||void 0===t?void 0:t.cx_action_page_load))return;let{action:c}=e;switch(c){case"open":let{modalContext:d,pageType:u}=e,{globalContext:p}=this.getCurrentContexts(),g={globalContext:{...null!==(r=null==d?void 0:d.globalContext)&&void 0!==r?r:{},currentPage:u,previousPage:p.currentPage},pageContext:{...null!==(n=null==d?void 0:d.pageContext)&&void 0!==n?n:{}}};this.acceptIncomingContextsAndMoveCurrentContextsToParent(g),this.handlePageLaunch(u);break;case"close":this.moveParentContextsToCurrentContexts();break;case"replaceModalPage":if(!this.parentContexts)break;let h=this.getCurrentContexts().globalContext.currentPage;if(h===e.pageType&&0===Object.keys(null!==(s=null==e?void 0:e.modalContext)&&void 0!==s?s:{}).length)break;this.patchContexts({globalContext:{currentPage:e.pageType,...null!==(i=null==e?void 0:null===(o=e.modalContext)||void 0===o?void 0:o.globalContext)&&void 0!==i?i:{},previousPage:h},pageContext:{...null!==(l=null==e?void 0:null===(a=e.modalContext)||void 0===a?void 0:a.pageContext)&&void 0!==l?l:{}}})}},this.tracePageLoadFinished=(e,t)=>{var r;if(!(null===(r=this.perEventFeatureFlags)||void 0===r?void 0:r.cx_action_page_load))return;let n=t||el.DEFAULT,o=new ec.Z({events:{actionType:n,eventType:"cx_action_page_load"},mangerMethods:{enqueueActionEvent:this.enqueueActionEvent.bind(this),patchContexts:this.patchContexts.bind(this)}});if("success"===e.status){o.markEventStart(),o.markEventEndWithOptionalData();return}o.markEventStart(),o.markEventEndWithOptionalData({err:e.error})},this.enqueueActionEvent=(e,t,r)=>{var n,o,a,s;let{payload:i,eventType:l}=e;switch(l){case"cx_action_page_load":if(!(null===(n=this.perEventFeatureFlags)||void 0===n?void 0:n.cx_action_page_load))return;let c=ei()({},null!=r?r:{}),d=null!==(o=null==c?void 0:c.pageType)&&void 0!==o?o:this.getCurrentContexts().globalContext.currentPage,u={eventType:"cx_action_page_load",payload:{...ei()({},i),...(null==t?void 0:t.customAttrs)?{customAttrs:t.customAttrs}:{},pageType:d}};this.sendProcessedEvent(u);return;case"cx_action_order_cart":if(!(null===(a=this.perEventFeatureFlags)||void 0===a?void 0:a.cx_action_order_cart))return;let p=ei()({},i),g=ei()({},null!=r?r:{}),h={eventType:"cx_action_order_cart",payload:{...p,...(null==t?void 0:t.customAttrs)?{customAttrs:t.customAttrs}:{},...g}};this.sendProcessedEvent(h);return;case"cx_action_navigate":null===(s=this.perEventFeatureFlags)||void 0===s||s.cx_action_navigate;return;default:return}},this.enqueueRemoteActionEvent=(e,t)=>{let{eventType:r,payload:n}=e;switch(r){case"cx_remote_action_payment_status":var o,a;if(!(null===(o=this.perEventFeatureFlags)||void 0===o?void 0:o.cx_remote_action_payment_status))break;this.sendProcessedEvent({eventType:r,payload:{...n,clientElapsedTime:this.getCurrentTimeInNanoSeconds(),customAttrs:{...null!==(a=null==t?void 0:t.customAttrs)&&void 0!==a?a:{}}}})}},this.getProcessedEventOptionsFromViewEventProperties=e=>{if(!e||!e.overrideContext&&!e.eventContext)return;let t={};return e.overrideContext&&(t.overrideContext=e.overrideContext),e.eventContext&&(t.eventContext=e.eventContext),t},this.enqueueViewEvent=(e,t)=>{var r;if(!(null===(r=this.perEventFeatureFlags)||void 0===r?void 0:r.cx_view))return;let n={...e,clientElapsedTime:this.getCurrentTimeInNanoSeconds(),...(null==t?void 0:t.customAttrs)?{customAttrs:t.customAttrs}:{}};this.sendProcessedEvent({eventType:"cx_view",payload:n},this.getProcessedEventOptionsFromViewEventProperties(t))},this.enqueueViewClickEvent=(e,t)=>{var r;if(!(null===(r=this.perEventFeatureFlags)||void 0===r?void 0:r.cx_view_click))return;let n={...e,clientElapsedTime:this.getCurrentTimeInNanoSeconds(),...(null==t?void 0:t.customAttrs)?{customAttrs:t.customAttrs}:{}};this.sendProcessedEvent({eventType:"cx_view_click",payload:n},this.getProcessedEventOptionsFromViewEventProperties(t))},this.getCurrentContexts=()=>({globalContext:this.globalContext,pageContext:this.pageContext}),this.patchContexts=e=>{let t=this.getCurrentContexts(),{globalContext:r,pageContext:n}=this.computeNewMergedContexts(e);this.globalContext=r,this.pageContext=n;let o=this.getCurrentContexts();return this.logContextChange(t,o),o},this.replaceContexts=e=>{let t=this.getCurrentContexts(),{globalContext:r,pageContext:n}=e(t);this.globalContext=r,this.pageContext=n;let o=this.getCurrentContexts();return this.logContextChange(t,o),o},this.computeNewMergedContexts=e=>{let{globalContext:t={},pageContext:r={}}=e;return{globalContext:ei()({},this.globalContext,t),pageContext:ei()({},this.pageContext,r)}},this.acceptIncomingContextsAndMoveCurrentContextsToParent=e=>{this.parentContexts?(this.log("parentContexts is not null, replacing it again is probably not what you want. The current parentContexts are",et.D.WARN),this.log(JSON.stringify(this.parentContexts,null,4),et.D.WARN)):(this.log("moving current contexts to parentContexts",et.D.INFO),this.parentContexts=this.getCurrentContexts()),this.patchContexts(e)},this.moveParentContextsToCurrentContexts=()=>{if(!this.parentContexts){this.log("parentContexts is null, nothing to move to currentContexts",et.D.WARN);return}this.log("moving parentContexts to currentContexts",et.D.INFO),this.replaceContexts(()=>this.parentContexts),this.parentContexts=null};let{initialGlobalContext:t,initialPageContext:r,logLevel:n,perEventFeatureFlags:o}=e;this.globalContext=t,this.pageContext=r,this.parentContexts=null,this.logLevel=n,this.perEventFeatureFlags=o,this.trackTelemetry=q.T9,this.eventsRequireAppContext=new Set(["cx_action_page_load","cx_view","cx_view_click","cx_action_navigate","cx_action_order_cart","cx_page_launch","cx_remote_action_payment_status"]),this.eventsHaveOptionalEventContext=new Set(["cx_view","cx_view_click"]),this.eventsIsAction=new Set(["cx_action_page_load","cx_action_navigate","cx_action_order_cart"])}}var eu=r(189305);let ep="dd-prev-analytics-page-type";var eg=r(220163),eh=r(202241),ev=e=>{var t;let{children:r,unifiedTelemetryProps:n,platformResolvedDV:o}=e,{analyticsPageType:i,overrideContextData:l}=n||{},c={currentPage:i,orderCart:void 0,previousPage:eg.E.NONE,...(null==l?void 0:l.globalContext)||{}},d={categoryL1:void 0,selectedFilterIds:void 0,...(null==l?void 0:l.pageContext)||{}},u=s.useRef(!1),{isEnabled:p,logLevel:g,viewClickEvent:h,viewEvent:v,pageLoadEvent:m,navigateEvent:_,orderCartEvent:E,remotePaymentStatusEvent:C,m3Events:f,inputEvent:y,inputSelectEvent:S,searchEvent:P,sortEvent:b,filterEvent:T,categoryL1Event:w}=o,R=en(g)?g:et.D.NEVER,N={cx_action_navigate:_,cx_view_click:h,cx_action_page_load:m,cx_page_launch:m,cx_action_order_cart:E,cx_remote_action_payment_status:C,cx_view:v,cx_action_category_l1:w,cx_action_filter:T,cx_action_sort:b,cx_action_search:P,cx_input:y,cx_input_select:S,m3_enabled:f},I=s.useRef(new ed({initialGlobalContext:c,initialPageContext:d,logLevel:R,perEventFeatureFlags:N})).current;s.useEffect(()=>{if(!p)return;let{globalContext:e={},pageContext:t={}}=l||{};I.patchContexts({globalContext:e,pageContext:t})},[p,l,I]),p&&eo(R,et.D.INFO)&&(0,eu.S)()&&(window.__getTelemetryManagerContexts__=()=>({currentContexts:I.getCurrentContexts(),parentContexts:I.parentContexts,rolloutStatus:{isEnabled:!!p,perEventFlags:N}}));let j=s.useCallback(()=>{if(!p||(0,eu.s)()||u.current)return!1;u.current=!0;let e=x.ZP.get(ep)||eg.E.NONE;return I.patchContexts({globalContext:{previousPage:e}}),!0},[p,I]);s.useEffect(()=>{var e;if(!p)return;let t=j(),r=(null==l?void 0:null===(e=l.globalContext)||void 0===e?void 0:e.currentPage)||i||eg.E.NONE;I.replaceContexts(e=>({...e,globalContext:{...e.globalContext,currentPage:r,previousPage:t?e.globalContext.previousPage:e.globalContext.currentPage}})),r&&r!==eg.E.NONE&&x.ZP.set(ep,i,1800)},[j,p,null==l?void 0:null===(t=l.globalContext)||void 0===t?void 0:t.currentPage,i,I]),s.useEffect(()=>{m&&I.tracePageLoadFinished({status:"success"})},[m,i,I]);let D={logLevel:et.D.UNIFIED_TELEMETRY_DISABLED,handleModalInteraction:()=>{},handlePageLaunch:()=>{},tracePageLoadFinished:()=>{},registerRemoteActionEvent:()=>{},registerViewClickEvent:()=>{},registerViewEvent:()=>{},registerActionEvent:()=>{},patchContexts:()=>({globalContext:{},pageContext:{}}),replaceContexts:()=>({globalContext:{},pageContext:{}}),rolloutStatus:{isEnabled:!1}},A={logLevel:R,patchContexts:I.patchContexts,replaceContexts:I.replaceContexts,registerRemoteActionEvent:I.enqueueRemoteActionEvent,registerViewEvent:I.enqueueViewEvent,registerViewClickEvent:I.enqueueViewClickEvent,registerActionEvent:I.enqueueActionEvent,handleModalInteraction:I.handleModalInteraction,handlePageLaunch:I.handlePageLaunch,tracePageLoadFinished:I.tracePageLoadFinished,rolloutStatus:{isEnabled:!!p,perEventFlags:N}},k=p?A:D;return(0,a.jsx)(eh.V.Provider,{value:k,children:r})},em=r(874104),e_=r(59825),eE=r(25593),ex=r(30207),eC=r(741536),ef=r(45177),ey=r(337088);let eS=()=>(0,ef.useDVSBoolean)(ey.P.enableAppclipCard,!1),eP=e=>{let{enableSmartAppBanner:t,experience:r,isMobile:n}=e,o=(0,ex.D)(eC.N.APP,ex.c.SmartAppBanner),s=r===p.Experience.DoorDash&&n&&t,i=eS(),l=r===p.Experience.DoorDash&&n&&i;return((0,q.ZP)("smart_app_banner_experiment",{includeSmartAppBannerMetaData:s,isMobile:n,enableSmartAppBanner:t}),s||l)?l?(0,a.jsx)(d(),{children:(0,a.jsx)("meta",{name:"apple-itunes-app",content:"app-id=719972451, app-clip-bundle-id=doordash.DoorDashConsumer.Clip, app-clip-display=card"})}):(0,a.jsx)(d(),{children:(0,a.jsx)("meta",{name:"apple-itunes-app",content:"app-id=719972451, app-argument=".concat(o)})}):null};(n=o||(o={})).Google="www.google.com",n.RecaptchaNet="www.recaptcha.net";class eb{get key(){return this._key}async loadRecaptcha(){try{return await this.loadRecaptchaFromSrc()}catch(e){return this._result=void 0,this.loadRecaptchaFromSrc("www.recaptcha.net")}}async loadRecaptchaFromSrc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"www.google.com",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._timeout;if(this._result)return this._result;let r=document.createElement("script");return r.src="https://".concat(e,"/recaptcha/api.js?render=").concat(this.key),r.async=!0,document.head.append(r),this._result=new Promise((e,n)=>{r.onload=()=>{let t=window.grecaptcha;t?t.ready(()=>{let r=document.createElement("style");r.innerHTML=".grecaptcha-badge { visibility: hidden; }",document.head.appendChild(r),e(t)}):n(Error("Script loaded but recaptcha did not initialize"))},r.onerror=()=>n(Error("Recaptcha script failed to load")),setTimeout(()=>n(Error("Failed to load recaptcha script before timeout")),t)}),this._result}constructor(e,t=1e4){this._key=e,this._timeout=t}}var eT=r(593842),ew=r(478343),eR=r(919549),eN=r(692462),eI=r(292101),ej=r(450165),eD=r(413296),eA=r(603710);let ek=l()(()=>r.e(46446).then(r.bind(r,546446)),{loadableGenerated:{webpack:()=>[546446]},ssr:!1}),eO=e=>{let{children:t,serverSidePropsResult:r,successScaffoldProps:n,themeProvider:o,errorBoundaryFallback:i,errorBoundaryOnError:l,renderServerError:c}=e,{API_GATEWAY_URL:g,isTestTenancy:x,language:C,experience:f,originalUrl:y,gdprData:S,initialApolloState:P,initialReactQueryState:b,isMobileServerSide:T,trackingConsent:w,uriToBeBlockedOnSSR:R,isOnVPN:N,ipRegion:I,dvsHash:j,dvsEvaluationCache:D,deviceId:L,additionalDVContext:F,pageType:M,platformDvs:U,identitySettings:H,requestOrigin:Z,ssrEnvironment:W,podName:Y,crawlerInfo:X,unifiedTelemetryProps:et,cell:er,apiKeys:en,deviceType:eo}=r.ssrPageProps,{unifiedTelemetry:ea,disableWebPixels:es}=U;s.useEffect(()=>{(0,E.kO)(w,S.enableGDPRConsent||!1,f),(0,J.WX)(),(0,$.ZP)(M)});let ei=s.useRef((null==en?void 0:en.recaptchaKey)?new eb(en.recaptchaKey):void 0);(0,eu.S)()&&(window.dd_disable_web_pixels=es);let el=(0,a.jsx)(ek,{origin:"ssr-scaffold",internalMessage:em.D.UncategorizedNextJSError,type:em.N.NextServerSideProps});return r.resultStatus===B.Y.success?el=(0,a.jsx)(eL,{baseResources:r.baseResources,ssrPageProps:r.ssrPageProps,recaptchaLoader:ei.current,...n({baseResources:r.baseResources,pageProps:r.pageProps}),children:"function"==typeof t?t({baseResources:r.baseResources,pageProps:r.pageProps}):t}):r.resultStatus===B.Y.crash?el=void 0!==c?c(r.error):(0,a.jsx)(ek,{origin:"ssr-scaffold",internalMessage:em.D.UncategorizedNextJSError,type:em.N.NextServerSideProps,errorBoundaryError:{error:r.error,componentStack:null}}):r.resultStatus===B.Y.notfound&&(el=(0,a.jsx)(ek,{origin:"ssr-scaffold",internalMessage:em.D.GenericNotFoundError,type:em.N.NextServerSideProps})),(0,a.jsx)(eR.Yo,{nextJsRouter:eR.wA.PAGE,children:(0,a.jsx)(u.e,{client:(0,Q.in)({initialState:P,experience:f,language:C,cookies:"",uri:g,pageUrl:y,uriToBeBlockedOnSSR:R,recaptchaLoader:null==ei?void 0:ei.current,allowedRecaptchaOperations:U.allowedRecaptchaOperations}),children:(0,a.jsx)(ej.kA,{initialProps:{enableClientSideNavigation:!1,locale:C,trackingConsent:w,isMobileServerSide:T,isOnVPN:N,ipRegion:I,dd_device_id:L,ssrEnvironment:W,podName:Y,cell:er,crawlerInfo:X,ssrDeviceType:eo},children:(0,a.jsx)(m.w,{isTestTenancy:x,children:(0,a.jsx)(v.v,{children:(0,a.jsx)(h.R,{state:b,children:(0,a.jsx)(V.T3,{pageType:M,isError:r.resultStatus!==B.Y.success,children:(0,a.jsxs)(ee.M1,{children:[(0,a.jsx)(ee.Dk,{isError:r.resultStatus!==B.Y.success}),(0,a.jsxs)(d(),{children:[(0,a.jsx)("meta",{name:"application-name",content:f,"data-tracking-consent-value":w.consent,"data-tracking-consent-type":w.consentType,"data-iguazu-entity-id":(0,ew.B)(f)},"application-name"),(0,a.jsx)("meta",{name:"dd_locale",content:C},"locale-meta"),(0,O.Z)(f),(()=>{if(r.resultStatus===B.Y.success){let{preloadImages:e}=n({baseResources:r.baseResources,pageProps:r.pageProps});if(e)return e.map(e=>(0,a.jsx)("link",{rel:"preload",as:"image",href:e},e))}return null})(),(0,k.I)()]}),(0,a.jsx)(_.Z,{children:(0,a.jsxs)(e_.ZP,{identitySettings:H,serverRequestOrigin:Z,children:[(0,a.jsx)("div",{"data-dd-locale":C}),(0,a.jsx)(A,{experience:f,gdprData:S,trackingConsent:w}),(0,a.jsx)(z.S,{track:q.ZP,fallback:i,onError:l,children:(0,a.jsx)(p.ExperienceRouter,{experience:f,children:(0,a.jsx)(o||G,{experience:f,children:(0,a.jsx)(K.J,{additionalDVContext:F,dvsHash:j,dvsEvaluationCache:D,deviceId:L,children:(0,a.jsx)(ev,{unifiedTelemetryProps:et,platformResolvedDV:ea,children:(0,a.jsx)(eA.F,{children:el})})})})})})]})})]})})})})})})})})},eL=e=>{let{children:t,ssrPageProps:r,baseResources:n,pageTitle:o,pageDescription:i,alternateUrl:l,ldJSON:c,languageMetaConfig:u,hideFromSearchEngineBots:p=!1,renderBeforeLayerManager:h=e=>e,ogMetadata:v,headTags:m,recaptchaLoader:_}=e,{experience:E,originalUrl:x,routeLocale:C,language:f,pageType:y,platformDvs:{enableSmartAppBanner:S}}=r;return s.useEffect(()=>{null==_||_.loadRecaptcha().catch(e=>{(0,eD.dm)({error:e,subtype:eD.rC.recaptcha_script_error_scaffold,entrypoint:eD.rD.SSR_SCAFFOLD}),(0,eT.Tb)(e,{level:"warning"})})},[_]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d(),{children:[(0,a.jsx)("title",{children:(0,L.SH)(o)}),(0,a.jsx)("meta",{name:"description",content:(0,L.SH)(i||o)}),void 0!==m?m:null,function(e){let{ogTitle:t,ogImage:r,ogSiteName:n,ogType:o,ogDescription:s,ogUrl:i}=null!=e?e:{};return(0,a.jsxs)(a.Fragment,{children:[!!t&&(0,a.jsx)("meta",{property:"og:title",content:null==e?void 0:e.ogTitle}),!!r&&(0,a.jsx)("meta",{property:"og:image",content:null==e?void 0:e.ogImage}),!!n&&(0,a.jsx)("meta",{property:"og:site_name",content:null==e?void 0:e.ogSiteName}),!!o&&(0,a.jsx)("meta",{property:"og:type",content:null==e?void 0:e.ogType}),!!s&&(0,a.jsx)("meta",{property:"og:description",content:null==e?void 0:e.ogDescription}),!!i&&(0,a.jsx)("meta",{property:"og:url",content:null==e?void 0:e.ogUrl})]})}(v),p&&(0,a.jsx)("meta",{name:"robots",content:"noindex"}),u&&(0,F.Z)(null!=l?l:x,C,u,E),c&&(0,eN.y)({key:"ld-json-ssr-scaffold",ldJson:c}),(0,Y.pF)({language:f,pageType:y,experience:E})]}),(0,a.jsx)(eP,{experience:E,isMobile:r.deviceType.isMobile,enableSmartAppBanner:S}),(0,a.jsx)("main",{children:(0,a.jsx)(H.XN,{children:h((0,a.jsx)(g.default,{children:(0,a.jsxs)(eF,{baseResources:n,ssrPageProps:r,children:[t,(0,a.jsx)(eI.ZP,{ipCountry:r.ipCountry})]})}))})})]})},eF=e=>{let{baseResources:t,ssrPageProps:r,children:n}=e;return W(r.experience,t.consumer.consumer),(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)(X.J6,{deviceSessionId:r.deviceSessionId,userId:t.consumer.consumer.userId}),(0,a.jsx)(eE.p,{consumer:t.consumer.consumer,deviceId:r.deviceId,gqlInformation:r.gqlInformation}),(0,a.jsx)(Z.Z,{consumer:t.consumer.consumer})]})}},220163:function(e,t,r){r.d(t,{E:function(){return n}});let n={EXTERNAL_DEEPLINK:"external_deeplink",RETAIL_TAB_PAGE:"retail_tab_page",GROCERY_TAB_PAGE:"grocery_tab_page",VERTICAL_SEARCH:"vertical_search_page",VERTICAL:"vertical_page",STORE:"store_page",SHIPPING_ITEM:"shipping_item_page",PICKUP:"pickup_page",ORDER_PROGRESS:"order_progress_page",ORDER_CART:"order_cart_page",OPEN_CARTS_PAGE:"open_carts_page",NV_STORE:"nv_store_page",NV_SEARCH:"nv_search_page",NV_RETAIL_BOTTOM_SHEET:"nv_retail_bottom_sheet",NV_ITEM:"nv_item_page",NV_DEALS:"nv_deals_page",NV_COLLECTION:"nv_collection_page",COLLECTION_PAGE:"collection_page",NV_CHOOSE_SUBSTITUTIONS:"nv_choose_substitutions_bottom_sheet",NV_CHECKOUT_AISLE:"nv_checkout_aisle_page",NV_CATEGORY:"nv_category_page",NV_CATEGORY_COLLECTIONS:"nv_category_collections_page",NONE:"none",ITEM_SPECIAL_INSTRUCTIONS:"item_special_instructions_page",ITEM:"item_page",ITEM_NESTED_OPTIONS:"item_nested_options_page",HOME:"home_page",GLOBAL_SEARCH:"global_search_page",CHECKOUT:"checkout_page"}},465244:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(902306),o=r(261972),a=r(29541);r(693981);var s=r(513013),i=r(888877);let l=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return t.map(t=>{let n=(0,s.Z2)(e,t);return(0,a.jsx)("link",{rel:"alternate",hrefLang:t,href:r?(0,i.mi)(n):(0,i.n4)(n)},"hreflang-".concat(t))})},c=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=(0,s.eW)(e);return(0,a.jsx)("link",{rel:"alternate",hrefLang:"x-default",href:t?(0,i.mi)(r):(0,i.n4)(r)},"x-default")};var d=r(430790);let u=Object.values(n.RF).map(e=>e.code),p=Object.values(n.dk).map(e=>e.code),g=e=>{let t=(0,s.Wl)(e),r=u.filter(e=>t===(0,s.Wl)(e));return r.length>1?r:[]};var h=(e,t,r,n)=>{let a=(e=>{switch(e){case"all-locale":return n===d.Experience.Caviar?p:u;case"by-country":return g(t);default:return[]}})(r.hreflang),s=[];return r.canonical&&s.push((0,o.f)(e,t,r.canonicalWithTrailingSlash)),a.length&&l(e,a,r.hreflangWithTrailingSlash).forEach(e=>s.push(e)),r.xDefault&&s.push(c(e,r.xDefaultWithTrailingSlash)),s}},525520:function(e,t,r){r.d(t,{Be:function(){return h},ae:function(){return c},b6:function(){return _},oU:function(){return m},rP:function(){return i},wF:function(){return v}}),r(604340),r(237693);var n=r(888877);r(70442);var o=r(846404),a=r(436454),s=r.n(a);let i=e=>{let t="",r="";if(e){let n=p(e);if(o.pZ.indexOf(n[0].toLowerCase())>=0&&n.shift(),n.length>=2){let e=/(\d+$)/;for(;!e.test(n[1])&&n.length>2;)n.shift();let o=e.exec(n[1]);(null==o?void 0:o.length)&&(t=o[1],n[2]&&(null==(o=e.exec(n[2]))?void 0:o.length)&&(r=o[1]))}}return{storeId:t,menuId:r}},l=e=>{let t="",r="";if(e){let n=/(\d+$)/;for(;!n.test(e[0])&&e.length>1;)e.shift();let o=n.exec(e[0]);(null==o?void 0:o.length)&&(t=o[1],e[1]&&(null==(o=n.exec(e[1]))?void 0:o.length)&&(r=o[1]))}return{storeId:t,menuId:r}},c=e=>{let t="",r="",n="";if(!e)return{storeId:t,menuId:r,itemId:n};let{storeId:o,menuId:a}=l(e);return t=o,(r=a)||(n=d(e)),{storeId:t,menuId:r,itemId:n}},d=e=>{let t=e.findIndex(e=>"item"===e);return t<0?"":u(e[t+1])},u=e=>{var t,r;return null!==(r=null===(t=e.match(/\d+$/))||void 0===t?void 0:t[0])&&void 0!==r?r:""},p=e=>(0,n.e)(new URL(e.replace(".json","")).pathname,["/"]).split("/"),g=/^(?:https?|localhost):(?:\d+)?\/\/.+(http(?:s)?:(\d+)?\/\/.+)$/,h=e=>{let t=g.exec(e);return t?t[1]:e},v=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300;if(!e)return null;let o=h(e);return"https://img.cdn4dd.com/cdn-cgi/image/fit=cover,width=".concat(t?600:r,",height=").concat(t?400:n,",format=auto,quality=").concat(80,"/").concat(o)},m=e=>({storeInfo:e.storeHeader,storeMenu:e.menuBook,storeDisclaimers:e.disclaimersList,feedStoreBanners:e.banners}),_=e=>{if(null===e)return null;let t=s()(e);return t.carousels=t.carousels.map(e=>(e.items=[...new Set(e.items)],e)),t}}}]);